
<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Stacks &mdash; Practically Discrete</title>
    
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codelens/v3/css/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codelens/v3/css/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codelens/v3/css/ui-lightness/jquery-ui-1.8.24.custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/theme/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/js-parsons/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/js-parsons/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/jquery.simplemodal.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/jquery-ui-1.8.24.custom.min.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/pytutor.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt/dist/skulpt.js"></script>
    <script type="text/javascript" src="../_static/skulpt/dist/builtin.js"></script>
    <script type="text/javascript" src="../_static/assess.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/underscore-min.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/lis.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/parsons.js"></script>
    <script type="text/javascript" src="../_static/parsons-noconflict.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <link rel="top" title="Practically Discrete" href="../index.html" />
<script type="text/javascript">
eBookConfig = {}
eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000',
eBookConfig.app = eBookConfig.host+'/runestone',
eBookConfig.ajaxURL = eBookConfig.app+'/ajax/',
eBookConfig.course = 'pd',
eBookConfig.logLevel = 10,
eBookConfig.loginRequired = true
eBookConfig.isLoggedIn = false;
</script>
<script type="text/javascript" charset="utf-8" src="http://127.0.0.1:8000/runestone/static/js/jquery.idle-timer.js">
</script>
<script type="text/javascript" src="http://127.0.0.1:8000/runestone/static/js/processing-1.4.1.min.js"></script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Practically Discrete</a> &raquo;</li>
<li class="right"><span class="loginout"><a href="/runestone/default/user/logout">logout</a></span>| </li>

      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <p class="logo"><a href="../index.html">
    <img class="logo" src="../_static/logo.jpg" alt="Logo" title="Click for Main Table of Contents"/>
  </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Stacks</a><ul>
<li><a class="reference internal" href="#what-is-a-stack">What is a Stack?</a></li>
<li><a class="reference internal" href="#the-stack-abstract-data-type">The Stack Abstract Data Type</a></li>
<li><a class="reference internal" href="#implementing-a-stack-in-python">Implementing a Stack in Python</a></li>
<li><a class="reference internal" href="#simple-balanced-parentheses">Simple Balanced Parentheses</a></li>
<li><a class="reference internal" href="#balanced-symbols-a-general-case">Balanced Symbols (A General Case)</a></li>
<li><a class="reference internal" href="#converting-decimal-numbers-to-binary-numbers">Converting Decimal Numbers to Binary Numbers</a></li>
<li><a class="reference internal" href="#infix-prefix-and-postfix-expressions">Infix, Prefix and Postfix Expressions</a><ul>
<li><a class="reference internal" href="#conversion-of-infix-expressions-to-prefix-and-postfix">Conversion of Infix Expressions to Prefix and Postfix</a></li>
<li><a class="reference internal" href="#general-infix-to-postfix-conversion">General Infix-to-Postfix Conversion</a></li>
<li><a class="reference internal" href="#postfix-evaluation">Postfix Evaluation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="runestonebox">
  <h3>Runestone Links</h3>
  <ul>
    <li> <span id="numuserspan"></span> Readers Online Now </li>
    <li>
      <a href="/runestone/static/pd/navhelp.html">Navigation Help</a>
    </li>
    <li>
      <a href="https://github.com/bnmnetp/runestone/issues/new">Report a Problem</a>
    </li>
    <li>
      <a href="http://runestoneinteractive.org">About Runestone</a>
    </li>
    <li>
      <a href="/runestone/admin/index">Instructors Page</a>
    </li>
  </ul>
<div class="fb-like" data-href="http://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="220" data-show-faces="false"></div>
<p><a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="false">Follow @iRunestone</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></p>
</div>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="stacks">
<h1>Stacks<a class="headerlink" href="#stacks" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-a-stack">
<h2>What is a Stack?<a class="headerlink" href="#what-is-a-stack" title="Permalink to this headline">¶</a></h2>
<p>A <strong>stack</strong> (sometimes called a “push-down stack”) is an ordered
collection of items where the addition of new items and the removal of
existing items always takes place at the same end. This end is commonly
referred to as the “top.” The end opposite the top is known as the
“base.”</p>
<p>The base of the stack is significant since items stored in the stack
that are closer to the base represent those that have been in the stack
the longest. The most recently added item is the one that is in position
to be removed first. This ordering principle is sometimes called
<strong>LIFO</strong>, <strong>last-in first-out</strong>. It provides an ordering based on length
of time in the collection. Newer items are near the top, while older
items are near the base.</p>
<p>Many examples of stacks occur in everyday situations. Almost any
cafeteria has a stack of trays or plates where you take the one at the
top, uncovering a new tray or plate for the next customer in line.
Imagine a stack of books on a desk (<a class="reference internal" href="#fig-bookstack"><em>Figure 1</em></a>). The only
book whose cover is visible is the one on top. To access others in the
stack, we need to remove the ones that are sitting on top of them.
<a class="reference internal" href="#fig-objectstack"><em>Figure 2</em></a> shows another stack. This one contains a number
of primitive Python data objects.</p>
<div class="figure align-center" id="fig-bookstack">
<a class="reference internal image-reference" href="../_images/bookstack2.png"><img alt="../_images/bookstack2.png" src="../_images/bookstack2.png" style="width: 159.0px; height: 89.0px;" /></a>
<p class="caption">A Stack of Books</p>
</div>
<div class="figure align-center" id="fig-objectstack">
<a class="reference internal image-reference" href="../_images/primitive.png"><img alt="../_images/primitive.png" src="../_images/primitive.png" style="width: 198.0px; height: 106.0px;" /></a>
<p class="caption">A Stack of Primitive Python Objects</p>
</div>
<p>One of the most useful ideas related to stacks comes from the simple
observation of items as they are added and then removed. Assume you
start out with a clean desktop. Now place books one at a time on top of
each other. You are constructing a stack. Consider what happens when you
begin removing books. The order that they are removed is exactly the
reverse of the order that they were placed. Stacks are fundamentally
important, as they can be used to reverse the order of items. The order
of insertion is the reverse of the order of removal.
<a class="reference internal" href="#fig-reversal"><em>Figure 3</em></a> shows the Python data object stack as it was
created and then again as items are removed. Note the order of the
objects.</p>
<div class="figure align-center" id="fig-reversal">
<img alt="../_images/simplereversal.png" src="../_images/simplereversal.png" />
<p class="caption">The Reversal Property of Stacks</p>
</div>
<p>Considering this reversal property, you can perhaps think of examples of
stacks that occur as you use your computer. For example, every web
browser has a Back button. As you navigate from web page to web page,
those pages are placed on a stack (actually it is the URLs that are
going on the stack). The current page that you are viewing is on the top
and the first page you looked at is at the base. If you click on the
Back button, you begin to move in reverse order through the pages.</p>
</div>
<div class="section" id="the-stack-abstract-data-type">
<h2>The Stack Abstract Data Type<a class="headerlink" href="#the-stack-abstract-data-type" title="Permalink to this headline">¶</a></h2>
<p>The stack abstract data type is defined by the following structure and
operations. A stack is structured, as described above, as an ordered
collection of items where items are added to and removed from the end
called the “top.” Stacks are ordered LIFO. The stack operations are
given below.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Stack()</span></tt> creates a new stack that is empty. It needs no parameters
and returns an empty stack.</li>
<li><tt class="docutils literal"><span class="pre">push(item)</span></tt> adds a new item to the top of the stack. It needs the
item and returns nothing.</li>
<li><tt class="docutils literal"><span class="pre">pop()</span></tt> removes the top item from the stack. It needs no parameters
and returns the item. The stack is modified.</li>
<li><tt class="docutils literal"><span class="pre">peek()</span></tt> returns the top item from the stack but does not remove
it. It needs no parameters. The stack is not modified.</li>
<li><tt class="docutils literal"><span class="pre">isEmpty()</span></tt> tests to see whether the stack is empty. It needs no
parameters and returns a boolean value.</li>
<li><tt class="docutils literal"><span class="pre">size()</span></tt> returns the number of items on the stack. It needs no
parameters and returns an integer.</li>
</ul>
<p>For example, if <tt class="docutils literal"><span class="pre">s</span></tt> is a stack that has been created and starts out
empty, then <a class="reference internal" href="#tbl-stackops"><em>Table 1</em></a> shows the results of a sequence of
stack operations. Under stack contents, the top item is listed at the
far right.</p>
<table border="1" class="docutils" id="tbl-stackops">
<colgroup>
<col width="40%" />
<col width="34%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Stack Operation</strong></th>
<th class="head"><strong>Stack Contents</strong></th>
<th class="head"><strong>Return Value</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">s.isEmpty()</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[]</span></tt></td>
<td><tt class="docutils literal"><span class="pre">True</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">s.push(4)</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4]</span></tt></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">s.push('dog')</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4,'dog']</span></tt></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">s.peek()</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4,'dog']</span></tt></td>
<td><tt class="docutils literal"><span class="pre">'dog'</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">s.push(True)</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4,'dog',True]</span></tt></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">s.size()</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4,'dog',True]</span></tt></td>
<td><tt class="docutils literal"><span class="pre">3</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">s.isEmpty()</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4,'dog',True]</span></tt></td>
<td><tt class="docutils literal"><span class="pre">False</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">s.push(8.4)</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4,'dog',True,8.4]</span></tt></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">s.pop()</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4,'dog',True]</span></tt></td>
<td><tt class="docutils literal"><span class="pre">8.4</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">s.pop()</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4,'dog']</span></tt></td>
<td><tt class="docutils literal"><span class="pre">True</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">s.size()</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[4,'dog']</span></tt></td>
<td><tt class="docutils literal"><span class="pre">2</span></tt></td>
</tr>
</tbody>
</table>
<blockquote>
<div>Sample Stack Operations</div></blockquote>
</div>
<div class="section" id="implementing-a-stack-in-python">
<h2>Implementing a Stack in Python<a class="headerlink" href="#implementing-a-stack-in-python" title="Permalink to this headline">¶</a></h2>
<p>Now that we have clearly defined the stack as an abstract data type we
will turn our attention to using Python to implement the stack. Recall
that when we give an abstract data type a physical implementation we
refer to the implementation as a data structure.</p>
<p>As we described in Chapter 1, in Python, as in any object-oriented
programming language, the implementation of choice for an abstract data
type such as a stack is the creation of a new class. The stack
operations are implemented as methods. Further, to implement a stack,
which is a collection of elements, it makes sense to utilize the power
and simplicity of the primitive collections provided by Python. We will
use a list.</p>
<p>Recall that the list class in Python provides an ordered collection
mechanism and a set of methods. For example, if we have the list
[2,5,3,6,7,4], we need only to decide which end of the list will be
considered the top of the stack and which will be the base. Once that
decision is made, the operations can be implemented using the list
methods such as <tt class="docutils literal"><span class="pre">append</span></tt> and <tt class="docutils literal"><span class="pre">pop</span></tt>.</p>
<p>The following stack implementation (<a class="reference internal" href="#lst-stackcode1"><em>Listing 1</em></a>) assumes that
the end of the list will hold the top element of the stack. As the stack
grows (as <tt class="docutils literal"><span class="pre">push</span></tt> operations occur), new items will be added on the end
of the list. <tt class="docutils literal"><span class="pre">pop</span></tt> operations will manipulate that same end.</p>

<div id="stack_1" >

<br/>
<div id="stack_1_code_div" style="display: block">
<textarea cols="50" rows="12" id="stack_1_code" class="active_code">
class Stack:
     def __init__(self):
         self.items = []

     def isEmpty(self):
         return self.items == []

     def push(self, item):
         self.items.append(item)

     def pop(self):
         return self.items.pop()

     def peek(self):
         return self.items[len(self.items)-1]

     def size(self):
         return len(self.items)
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text"> (stack_1)</span> </p>

<button id="stack_1_runb" onclick="runit('stack_1',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('stack_1');">Save</button>
<button class="ac_opt" onclick="requestCode('stack_1');">Load</button>

<div style="text-align: center">
<canvas id="stack_1_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="stack_1_pre" class="active_out">

</pre>


</div>

<p>The following interactive Python session shows the <tt class="docutils literal"><span class="pre">Stack</span></tt> class in
action as we perform the sequence of operations from
<a class="reference internal" href="#tbl-stackops"><em>Table 1</em></a>.</p>

<div id="stack_ex_1" >

<br/>
<div id="stack_ex_1_code_div" style="display: block">
<textarea cols="50" rows="12" id="stack_ex_1_code" class="active_code">
s=Stack()
print(s.isEmpty())
s.push(4)
s.push('dog')
print(s.peek())
s.push(True)
print(s.size())
print(s.isEmpty())
s.push(8.4)
print(s.pop())
print(s.pop())
print(s.size())
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text"> (stack_ex_1)</span> </p>

<button id="stack_ex_1_runb" onclick="runit('stack_ex_1',this, ['stack_1']);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('stack_ex_1');">Save</button>
<button class="ac_opt" onclick="requestCode('stack_ex_1');">Load</button>

<div style="text-align: center">
<canvas id="stack_ex_1_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="stack_ex_1_pre" class="active_out">

</pre>


</div>

<p>It is important to note that we could have chosen to implement the stack
using a list where the top is at the beginning instead of at the end. In
this case, the previous <tt class="docutils literal"><span class="pre">pop</span></tt> and <tt class="docutils literal"><span class="pre">append</span></tt> methods would no longer
work and we would have to index position 0 (the first item in the list)
explicitly using <tt class="docutils literal"><span class="pre">pop</span></tt> and <tt class="docutils literal"><span class="pre">insert</span></tt>. The implementation is shown in
<a class="reference internal" href="#lst-stackcode2"><em>Listing 2</em></a>.</p>

<div id="stack_cl_1"></div>
<p class="cl_caption"><span class="cl_caption_text"> (stack_cl_1)</span> </p>
<script type="text/javascript">
var stack_cl_1_trace = {"code": "class Stack:\n     def __init__(self):\n         self.items = []\n\n     def isEmpty(self):\n         return self.items == []\n\n     def push(self, item):\n         self.items.insert(0,item)\n\n     def pop(self):\n         return self.items.pop(0)\n\n     def peek(self):\n         return self.items[0]\n\n     def size(self):\n         return len(self.items)\n\ns = Stack()\ns.push('hello')\ns.push('true')\nprint(s.pop())", "trace": [{"ordered_globals": [], "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {}, "heap": {}, "line": 1, "event": "step_line"}, {"ordered_globals": [], "stdout": "", "func_name": "Stack", "stack_to_render": [{"frame_id": 1, "encoded_locals": {}, "is_highlighted": true, "is_parent": false, "func_name": "Stack", "is_zombie": false, "parent_frame_id_list": [], "unique_hash": "Stack_f1", "ordered_varnames": []}], "globals": {}, "heap": {}, "line": 1, "event": "call"}, {"ordered_globals": [], "stdout": "", "func_name": "Stack", "stack_to_render": [{"frame_id": 1, "encoded_locals": {}, "is_highlighted": true, "is_parent": false, "func_name": "Stack", "is_zombie": false, "parent_frame_id_list": [], "unique_hash": "Stack_f1", "ordered_varnames": []}], "globals": {}, "heap": {}, "line": 1, "event": "step_line"}, {"ordered_globals": [], "stdout": "", "func_name": "Stack", "stack_to_render": [{"frame_id": 1, "encoded_locals": {}, "is_highlighted": true, "is_parent": false, "func_name": "Stack", "is_zombie": false, "parent_frame_id_list": [], "unique_hash": "Stack_f1", "ordered_varnames": []}], "globals": {}, "heap": {}, "line": 2, "event": "step_line"}, {"ordered_globals": [], "stdout": "", "func_name": "Stack", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"__init__": ["REF", 1]}, "is_highlighted": true, "is_parent": true, "func_name": "Stack", "is_zombie": false, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p", "ordered_varnames": ["__init__"]}], "globals": {}, "heap": {"1": ["FUNCTION", "__init__(self)", 1]}, "line": 5, "event": "step_line"}, {"ordered_globals": [], "stdout": "", "func_name": "Stack", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"isEmpty": ["REF", 2], "__init__": ["REF", 1]}, "is_highlighted": true, "is_parent": true, "func_name": "Stack", "is_zombie": false, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p", "ordered_varnames": ["__init__", "isEmpty"]}], "globals": {}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1]}, "line": 8, "event": "step_line"}, {"ordered_globals": [], "stdout": "", "func_name": "Stack", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"push": ["REF", 3], "isEmpty": ["REF", 2], "__init__": ["REF", 1]}, "is_highlighted": true, "is_parent": true, "func_name": "Stack", "is_zombie": false, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p", "ordered_varnames": ["__init__", "isEmpty", "push"]}], "globals": {}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1]}, "line": 11, "event": "step_line"}, {"ordered_globals": [], "stdout": "", "func_name": "Stack", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"push": ["REF", 3], "isEmpty": ["REF", 2], "pop": ["REF", 4], "__init__": ["REF", 1]}, "is_highlighted": true, "is_parent": true, "func_name": "Stack", "is_zombie": false, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p", "ordered_varnames": ["__init__", "isEmpty", "pop", "push"]}], "globals": {}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1]}, "line": 14, "event": "step_line"}, {"ordered_globals": [], "stdout": "", "func_name": "Stack", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"push": ["REF", 3], "peek": ["REF", 5], "isEmpty": ["REF", 2], "__init__": ["REF", 1], "pop": ["REF", 4]}, "is_highlighted": true, "is_parent": true, "func_name": "Stack", "is_zombie": false, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push"]}], "globals": {}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1]}, "line": 17, "event": "step_line"}, {"ordered_globals": [], "stdout": "", "func_name": "Stack", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": true, "is_parent": true, "func_name": "Stack", "is_zombie": false, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}], "globals": {}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1]}, "line": 17, "event": "return"}, {"ordered_globals": ["Stack"], "stdout": "", "func_name": "<module>", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}], "globals": {"Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]]}, "line": 20, "event": "step_line"}, {"ordered_globals": ["Stack"], "stdout": "", "func_name": "__init__", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 2, "encoded_locals": {"self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "__init__", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "__init___f2", "ordered_varnames": ["self"]}], "globals": {"Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack"]}, "line": 2, "event": "call"}, {"ordered_globals": ["Stack"], "stdout": "", "func_name": "__init__", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 2, "encoded_locals": {"self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "__init__", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "__init___f2", "ordered_varnames": ["self"]}], "globals": {"Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack"]}, "line": 3, "event": "step_line"}, {"ordered_globals": ["Stack"], "stdout": "", "func_name": "__init__", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 2, "encoded_locals": {"__return__": null, "self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "__init__", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "__init___f2", "ordered_varnames": ["self", "__return__"]}], "globals": {"Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST"]}, "line": 3, "event": "return"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "<module>", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST"]}, "line": 21, "event": "step_line"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "push", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 3, "encoded_locals": {"item": "hello", "self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "push", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "push_f3", "ordered_varnames": ["self", "item"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST"]}, "line": 8, "event": "call"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "push", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 3, "encoded_locals": {"item": "hello", "self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "push", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "push_f3", "ordered_varnames": ["self", "item"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST"]}, "line": 9, "event": "step_line"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "push", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 3, "encoded_locals": {"__return__": null, "item": "hello", "self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "push", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "push_f3", "ordered_varnames": ["self", "item", "__return__"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "hello"]}, "line": 9, "event": "return"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "<module>", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "hello"]}, "line": 22, "event": "step_line"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "push", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 4, "encoded_locals": {"item": "true", "self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "push", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "push_f4", "ordered_varnames": ["self", "item"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "hello"]}, "line": 8, "event": "call"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "push", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 4, "encoded_locals": {"item": "true", "self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "push", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "push_f4", "ordered_varnames": ["self", "item"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "hello"]}, "line": 9, "event": "step_line"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "push", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 4, "encoded_locals": {"__return__": null, "item": "true", "self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "push", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "push_f4", "ordered_varnames": ["self", "item", "__return__"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "true", "hello"]}, "line": 9, "event": "return"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "<module>", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "true", "hello"]}, "line": 23, "event": "step_line"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "pop", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 5, "encoded_locals": {"self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "pop", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "pop_f5", "ordered_varnames": ["self"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "true", "hello"]}, "line": 11, "event": "call"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "pop", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 5, "encoded_locals": {"self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "pop", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "pop_f5", "ordered_varnames": ["self"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "true", "hello"]}, "line": 12, "event": "step_line"}, {"ordered_globals": ["Stack", "s"], "stdout": "", "func_name": "pop", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}, {"frame_id": 5, "encoded_locals": {"__return__": "true", "self": ["REF", 9]}, "is_highlighted": true, "is_parent": false, "func_name": "pop", "is_zombie": false, "parent_frame_id_list": [1], "unique_hash": "pop_f5", "ordered_varnames": ["self", "__return__"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "hello"]}, "line": 12, "event": "return"}, {"ordered_globals": ["Stack", "s"], "stdout": "true\n", "func_name": "<module>", "stack_to_render": [{"frame_id": 1, "encoded_locals": {"peek": ["REF", 5], "pop": ["REF", 4], "__return__": ["REF", 6], "isEmpty": ["REF", 2], "push": ["REF", 3], "__init__": ["REF", 1], "size": ["REF", 7]}, "is_highlighted": false, "is_parent": true, "func_name": "Stack", "is_zombie": true, "parent_frame_id_list": [], "unique_hash": "Stack_f1_p_z", "ordered_varnames": ["__init__", "isEmpty", "peek", "pop", "push", "size", "__return__"]}], "globals": {"s": ["REF", 9], "Stack": ["REF", 8]}, "heap": {"1": ["FUNCTION", "__init__(self)", 1], "2": ["FUNCTION", "isEmpty(self)", 1], "3": ["FUNCTION", "push(self, item)", 1], "4": ["FUNCTION", "pop(self)", 1], "5": ["FUNCTION", "peek(self)", 1], "6": ["DICT", ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["isEmpty", ["REF", 2]], ["push", ["REF", 3]], ["__doc__", null], ["__init__", ["REF", 1]], ["size", ["REF", 7]]], "7": ["FUNCTION", "size(self)", 1], "8": ["CLASS", "Stack", [], ["__init__", ["REF", 1]], ["isEmpty", ["REF", 2]], ["peek", ["REF", 5]], ["pop", ["REF", 4]], ["push", ["REF", 3]], ["size", ["REF", 7]]], "9": ["INSTANCE", "Stack", ["items", ["REF", 10]]], "10": ["LIST", "hello"]}, "line": 23, "event": "return"}]};
var stack_cl_1_vis;

$(document).ready(function() {
    stack_cl_1_vis = new ExecutionVisualizer('stack_cl_1',stack_cl_1_trace,
                                {embeddedMode: true,
                                verticalStack: true,
                                heightChangeCallback: redrawAllVisualizerArrows,
                                codeDivWidth: 500
                                });
    attachLoggers(stack_cl_1_vis,'stack_cl_1');
    allVisualizers.push(stack_cl_1_vis);
});

$(document).ready(function() {
    $("#stack_cl_1_tracecheck").click(function() {
        logBookEvent({'event':'codelens', 'act': 'check', 'div_id':'stack_cl_1'});
        });
});

if (allVisualizers === undefined) {
   var allVisualizers = [];
}


$(window).resize(function() {
    stack_cl_1_vis.redrawConnectors();
});
</script>
<p>This ability to change the physical implementation of an abstract data
type while maintaining the logical characteristics is an example of
abstraction at work. However, even though the stack will work either
way, if we consider the performance of the two implementations, there is
definitely a difference. Recall that the <tt class="docutils literal"><span class="pre">append</span></tt> and <tt class="docutils literal"><span class="pre">pop()</span></tt>
operations were both O(1). This means that the first implementation will
perform push and pop in constant time no matter how many items are on
the stack. The performance of the second implementation suffers in that
the <tt class="docutils literal"><span class="pre">insert(0)</span></tt> and <tt class="docutils literal"><span class="pre">pop(0)</span></tt> operations will both require O(n) for a
stack of size n. Clearly, even though the implementations are logically
equivalent, they would have very different timings when performing
benchmark testing.</p>
<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>

            <div id="stack_1">
            <p><pre> Given the following sequence of stack operations what is the top item on the stack?
 m = Stack()
 m.push('x')
 m.push('y')
 m.pop():
 m.push('z')
 m.peek()</pre></p>
            <form name="stack_1_form" method="get" action="" onsubmit="return false;">
            
            <input type="radio" name="group1" value="a" id="stack_1_opt_a" />
            <label for= "stack_1_opt_a">  a) 'x'</label><br />
            
            <input type="radio" name="group1" value="b" id="stack_1_opt_b" />
            <label for= "stack_1_opt_b">  b) 'y'</label><br />
            
            <input type="radio" name="group1" value="c" id="stack_1_opt_c" />
            <label for= "stack_1_opt_c">  c) 'z'</label><br />
            
            <input type="radio" name="group1" value="d" id="stack_1_opt_d" />
            <label for= "stack_1_opt_d">  d) The stack is empty</label><br />
            
            <input type="button" name="do answer" 
            value="Check Me" onclick="checkMe('stack_1','c','Remember that a stack is built from the bottom up.')"/> 
            </form>
            <div id="stack_1_feedback">
            </div>
            </div>
            
            <div id="stack_2">
            <p><pre>    Given the following sequence of stack operations, what is the top item on the stack?
    m = Stack()
    m.push('x')
    m.push('y')
    m.push('z')
    while not m.isEmpty():
       m.pop()
   m.pop()</pre></p>
            <form name="stack_2_form" method="get" action="" onsubmit="return false;">
            
            <input type="radio" name="group1" value="a" id="stack_2_opt_a" />
            <label for= "stack_2_opt_a">  a) 'x'</label><br />
            
            <input type="radio" name="group1" value="b" id="stack_2_opt_b" />
            <label for= "stack_2_opt_b">  b) the stack is empty</label><br />
            
            <input type="radio" name="group1" value="c" id="stack_2_opt_c" />
            <label for= "stack_2_opt_c">  c) an error will occur</label><br />
            
            <input type="radio" name="group1" value="d" id="stack_2_opt_d" />
            <label for= "stack_2_opt_d">  d) 'z'</label><br />
            
            <input type="button" name="do answer" 
            value="Check Me" onclick="checkMe('stack_2','c','none')"/> 
            </form>
            <div id="stack_2_feedback">
            </div>
            </div>
            <p>Write a function <cite>revstring(mystr)</cite> that uses a stack to reverse the
characters in a string.</p>
<div class="last">
<button id="butt_stack_stringrev" onclick="createActiveCode('stack_stringrev','from test import testEqual\nfrom pythonds.basic.stack import Stack\n\ndef revstring(mystr):\n    # your code here\n\ntestEqual(revstring(%27apple%27),%27elppa%27)\ntestEqual(revstring(%27x%27),%27x%27)\ntestEqual(revstring(%271234567890%27),%270987654321%27)'); $('#butt_stack_stringrev').hide();">Open Editor</button>
<div id="stack_stringrev"></div>
<br />
</div></div>
<a id="stack1_video_thumb" > <img src="../_static/activecodethumb.png" /></a>
<div id="stack1_video" class="video_popup" >
<video controls  >
    <source src="http://media.interactivepython.org/pythondsVideos/Stack1.mov" type="video/mp4"></source>
    <source src="http://media.interactivepython.org/pythondsVideos/Stack1.webm" type="video/webm"></source>
    No supported video types
</video>
</div>
<script>
   jQuery(function($) {
      $('#stack1_video_thumb').click(function(e) {
         $('#stack1_video').show();
         $('#stack1_video_thumb').hide();
         logBookEvent({'event':'video','act':'play','div_id': 'stack1_video'});
         // Log the run event
      });
   });
</script>
</div>
<div class="section" id="simple-balanced-parentheses">
<h2>Simple Balanced Parentheses<a class="headerlink" href="#simple-balanced-parentheses" title="Permalink to this headline">¶</a></h2>
<p>We now turn our attention to using stacks to solve real computer science
problems. You have no doubt written arithmetic expressions such as</p>
<p><span class="math">\((5+6)*(7+8)/(4+3)\)</span></p>
<p>where parentheses are used to order the performance of operations. You
may also have some experience programming in a language such as Lisp
with constructs like</p>
<div class="highlight-python"><pre>(defun square(n)
     (* n n))</pre>
</div>
<p>This defines a function called <tt class="docutils literal"><span class="pre">square</span></tt> that will return the square of
its argument <tt class="docutils literal"><span class="pre">n</span></tt>. Lisp is notorious for using lots and lots of
parentheses.</p>
<p>In both of these examples, parentheses must appear in a balanced
fashion. <strong>Balanced parentheses</strong> means that each opening symbol has a
corresponding closing symbol and the pairs of parentheses are properly
nested. Consider the following correctly balanced strings of
parentheses:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(()()()())</span>

<span class="p">(((())))</span>

<span class="p">(()((())()))</span>
</pre></div>
</div>
<p>Compare those with the following, which are not balanced:</p>
<div class="highlight-python"><pre>((((((())

()))

(()()(()</pre>
</div>
<p>The ability to differentiate between parentheses that are correctly
balanced and those that are unbalanced is an important part of
recognizing many programming language structures.</p>
<p>The challenge then is to write an algorithm that will read a string of
parentheses from left to right and decide whether the symbols are
balanced. To solve this problem we need to make an important
observation. As you process symbols from left to right, the most recent
opening parenthesis must match the next closing symbol (see
<a class="reference internal" href="#fig-parmatch"><em>Figure 4</em></a>). Also, the first opening symbol processed may have to
wait until the very last symbol for its match. Closing symbols match
opening symbols in the reverse order of their appearance; they match
from the inside out. This is a clue that stacks can be used to solve the
problem.</p>
<div class="figure" id="fig-parmatch">
<img alt="../_images/simpleparcheck.png" src="../_images/simpleparcheck.png" />
<p class="caption">Matching Parentheses</p>
</div>
<p>Once you agree that a stack is the appropriate data structure for
keeping the parentheses, the statement of the algorithm is
straightforward. Starting with an empty stack, process the parenthesis
strings from left to right. If a symbol is an opening parenthesis, push
it on the stack as a signal that a corresponding closing symbol needs to
appear later. If, on the other hand, a symbol is a closing parenthesis,
pop the stack. As long as it is possible to pop the stack to match every
closing symbol, the parentheses remain balanced. If at any time there is
no opening symbol on the stack to match a closing symbol, the string is
not balanced properly. At the end of the string, when all symbols have
been processed, the stack should be empty. The Python code to implement
this algorithm is shown in <a class="reference internal" href="#lst-parcheck1"><em>Listing 3</em></a>.</p>

<div id="parcheck1" >

<br/>
<div id="parcheck1_code_div" style="display: block">
<textarea cols="50" rows="12" id="parcheck1_code" class="active_code">
from pythonds.basic.stack import Stack

def parChecker(symbolString):
    s = Stack()
    balanced = True
    index = 0
    while index < len(symbolString) and balanced:
        symbol = symbolString[index]
        if symbol == "(":
            s.push(symbol)
        else:
            if s.isEmpty():
                balanced = False
            else:
                s.pop()

        index = index + 1

    if balanced and s.isEmpty():
        return True
    else:
        return False

print(parChecker('((()))'))
print(parChecker('(()'))
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text"> (parcheck1)</span> </p>

<button id="parcheck1_runb" onclick="runit('parcheck1',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('parcheck1');">Save</button>
<button class="ac_opt" onclick="requestCode('parcheck1');">Load</button>

<div style="text-align: center">
<canvas id="parcheck1_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="parcheck1_pre" class="active_out">

</pre>


</div>

<p>This function, <tt class="docutils literal"><span class="pre">parChecker</span></tt>, assumes that a <tt class="docutils literal"><span class="pre">Stack</span></tt> class is
available and returns a boolean result as to whether the string of
parentheses is balanced. Note that the boolean variable <tt class="docutils literal"><span class="pre">balanced</span></tt> is
initialized to <tt class="docutils literal"><span class="pre">True</span></tt> as there is no reason to assume otherwise at the
start. If the current symbol is <tt class="docutils literal"><span class="pre">(</span></tt>, then it is pushed on the stack
(lines 9–10). Note also in line 15 that <tt class="docutils literal"><span class="pre">pop</span></tt> simply removes a symbol
from the stack. The returned value is not used since we know it must be
an opening symbol seen earlier. At the end (lines 19–22), as long as the
expression is balanced and the stack has been completely cleaned off,
the string represents a correctly balanced sequence of parentheses.</p>
</div>
<div class="section" id="balanced-symbols-a-general-case">
<h2>Balanced Symbols (A General Case)<a class="headerlink" href="#balanced-symbols-a-general-case" title="Permalink to this headline">¶</a></h2>
<p>The balanced parentheses problem shown above is a specific case of a
more general situation that arises in many programming languages. The
general problem of balancing and nesting different kinds of opening and
closing symbols properly occurs frequently. For example, in Python
square brackets, [ and ], are used for lists; curly braces, { and }, are
used for dictionaries; and parentheses, ( and ), are used for tuples and
arithmetic expressions. It is possible to mix symbols as long as each
maintains its own open and close relationship. Strings of symbols such
as</p>
<div class="highlight-python"><pre>{ { ( [ ] [ ] ) } ( ) }

[ [ { { ( ( ) ) } } ] ]

[ ] [ ] [ ] ( ) { }</pre>
</div>
<p>are properly balanced in that not only does each opening symbol have a
corresponding closing symbol, but the types of symbols match as well.</p>
<p>Compare those with the following strings that are not balanced:</p>
<div class="highlight-python"><pre>( [ ) ]

( ( ( ) ] ) )

[ { ( ) ]</pre>
</div>
<p>The simple parentheses checker from the previous section can easily be
extended to handle these new types of symbols. Recall that each opening
symbol is simply pushed on the stack to wait for the matching closing
symbol to appear later in the sequence. When a closing symbol does
appear, the only difference is that we must check to be sure that it
correctly matches the type of the opening symbol on top of the stack. If
the two symbols do not match, the string is not balanced. Once again, if
the entire string is processed and nothing is left on the stack, the
string is correctly balanced.</p>
<p>The Python program to implement this is shown in <a class="reference internal" href="#lst-parcheck2"><em>Listing 4</em></a>.
The only change appears in line 17 where we call a helper function to
assist with symbol-matching. Each symbol that is removed from the stack
must be checked to see that it matches the current closing symbol. If a
mismatch occurs, the boolean variable <tt class="docutils literal"><span class="pre">balanced</span></tt> is set to <tt class="docutils literal"><span class="pre">False</span></tt>.</p>

<div id="parcheck2" >

<br/>
<div id="parcheck2_code_div" style="display: block">
<textarea cols="50" rows="12" id="parcheck2_code" class="active_code">
from pythonds.basic.stack import Stack
def parChecker(symbolString):
    s = Stack()
    balanced = True
    index = 0
    while index < len(symbolString) and balanced:
        symbol = symbolString[index]
        if symbol in "([{":
            s.push(symbol)
        else:
            if s.isEmpty():
                balanced = False
            else:
                top = s.pop()
                if not matches(top,symbol):
                       balanced = False
        index = index + 1
    if balanced and s.isEmpty():
        return True
    else:
        return False

def matches(open,close):
    opens = "([{"
    closers = ")]}"
    return opens.index(open) == closers.index(close)
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text"> (parcheck2)</span> </p>

<button id="parcheck2_runb" onclick="runit('parcheck2',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('parcheck2');">Save</button>
<button class="ac_opt" onclick="requestCode('parcheck2');">Load</button>

<div style="text-align: center">
<canvas id="parcheck2_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="parcheck2_pre" class="active_out">

</pre>


</div>

<p>These two examples show that stacks are very important data structures
for the processing of language constructs in computer science. Almost
any notation you can think of has some type of nested symbol that must
be matched in a balanced order. There are a number of other important
uses for stacks in computer science. We will continue to explore them
next.</p>
</div>
<div class="section" id="converting-decimal-numbers-to-binary-numbers">
<h2>Converting Decimal Numbers to Binary Numbers<a class="headerlink" href="#converting-decimal-numbers-to-binary-numbers" title="Permalink to this headline">¶</a></h2>
<p>In your study of computer science, you have probably been
exposed in one way or another to the idea of a binary number. Binary
representation is important in computer science since all values stored
within a computer exist as a string of binary digits, a string of 0s and
1s. Without the ability to convert back and forth between common
representations and binary numbers, we would need to interact with
computers in very awkward ways.</p>
<p>Integer values are common data items. They are used in computer programs
and computation all the time. We learn about them in math class and of
course represent them using the decimal number system, or base 10. The
decimal number <span class="math">\(233_{10}\)</span> and its corresponding binary
equivalent <span class="math">\(11101001_{2}\)</span> are interpreted respectively as</p>
<p><span class="math">\(2\times10^{2} + 3\times10^{1} + 3\times10^{0}\)</span></p>
<p>and</p>
<p><span class="math">\(1\times2^{7} + 1\times2^{6} + 1\times2^{5} + 0\times2^{4} + 1\times2^{3} + 0\times2^{2} + 0\times2^{1} + 1\times2^{0}\)</span></p>
<p>But how can we easily convert integer values into binary numbers? The
answer is an algorithm called “Divide by 2” that uses a stack to keep
track of the digits for the binary result.</p>
<p>The Divide by 2 algorithm assumes that we start with an integer greater
than 0. A simple iteration then continually divides the decimal number
by 2 and keeps track of the remainder. The first division by 2 gives
information as to whether the value is even or odd. An even value will
have a remainder of 0. It will have the digit 0 in the ones place. An
odd value will have a remainder of 1 and will have the digit 1 in the
ones place. We think about building our binary number as a sequence of
digits; the first remainder we compute will actually be the last digit
in the sequence. As shown in <a class="reference internal" href="#fig-decbin"><em>Figure 5</em></a>, we again see the
reversal property that signals that a stack is likely to be the
appropriate data structure for solving the problem.</p>
<div class="figure align-center" id="fig-decbin">
<img alt="../_images/dectobin.png" src="../_images/dectobin.png" />
<p class="caption">Decimal-to-Binary Conversion</p>
</div>
<p>The Python code in <a class="reference internal" href="#lst-binconverter"><em>Listing 5</em></a> implements the Divide by 2
algorithm. The function <tt class="docutils literal"><span class="pre">divideBy2</span></tt> takes an argument that is a
decimal number and repeatedly divides it by 2. Line 6 uses the built-in
modulo operator, %, to extract the remainder and line 7 then pushes it
on the stack. After the division process reaches 0, a binary string is
constructed in lines 10–12. Line 10 creates an empty string. The binary
digits are popped from the stack one at a time and appended to the
right-hand end of the string. The binary string is then returned.</p>

<div id="divby2" >

<br/>
<div id="divby2_code_div" style="display: block">
<textarea cols="50" rows="12" id="divby2_code" class="active_code">
from pythonds.basic.stack import Stack
def divideBy2(decNumber):
    remstack = Stack()

    while decNumber > 0:
        rem = decNumber % 2
        remstack.push(rem)
        decNumber = decNumber // 2

    binString = ""
    while not remstack.isEmpty():
        binString = binString + str(remstack.pop())

    return binString

print(divideBy2(42))
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text"> (divby2)</span> </p>

<button id="divby2_runb" onclick="runit('divby2',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('divby2');">Save</button>
<button class="ac_opt" onclick="requestCode('divby2');">Load</button>

<div style="text-align: center">
<canvas id="divby2_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="divby2_pre" class="active_out">

</pre>


</div>

<p>The algorithm for binary conversion can easily be extended to perform
the conversion for any base. In computer science it is common to use a
number of different encodings. The most common of these are binary,
octal (base 8), and hexadecimal (base 16).</p>
<p>The decimal number <span class="math">\(233\)</span> and its corresponding octal and
hexadecimal equivalents <span class="math">\(351_{8}\)</span> and <span class="math">\(E9_{16}\)</span> are
interpreted as</p>
<p><span class="math">\(3\times8^{2} + 5\times8^{1} + 1\times8^{0}\)</span></p>
<p>and</p>
<p><span class="math">\(14\times16^{1} + 9\times16^{0}\)</span></p>
<p>The function <tt class="docutils literal"><span class="pre">divideBy2</span></tt> can be modified to accept not only a decimal
value but also a base for the intended conversion. The “Divide by 2”
idea is simply replaced with a more general “Divide by base.” A new
function called <tt class="docutils literal"><span class="pre">baseConverter</span></tt>, shown in <a class="reference internal" href="#lst-baseconverter"><em>Listing 6</em></a>,
takes a decimal number and any base between 2 and 16 as parameters. The
remainders are still pushed onto the stack until the value being
converted becomes 0. The same left-to-right string construction
technique can be used with one slight change. Base 2 through base 10
numbers need a maximum of 10 digits, so the typical digit characters 0,
1, 2, 3, 4, 5, 6, 7, 8, and 9 work fine. The problem comes when we go
beyond base 10. We can no longer simply use the remainders, as they are
themselves represented as two-digit decimal numbers. Instead we need to
create a set of digits that can be used to represent those remainders
beyond 9.</p>

<div id="baseconvert" >

<br/>
<div id="baseconvert_code_div" style="display: block">
<textarea cols="50" rows="12" id="baseconvert_code" class="active_code">
from pythonds.basic.stack import Stack
def baseConverter(decNumber,base):
    digits = "0123456789ABCDEF"

    remstack = Stack()

    while decNumber > 0:
        rem = decNumber % base
        remstack.push(rem)
        decNumber = decNumber // base

    newString = ""
    while not remstack.isEmpty():
        newString = newString + digits[remstack.pop()]

    return newString

print(baseConverter(25,2))
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text"> (baseconvert)</span> </p>

<button id="baseconvert_runb" onclick="runit('baseconvert',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('baseconvert');">Save</button>
<button class="ac_opt" onclick="requestCode('baseconvert');">Load</button>

<div style="text-align: center">
<canvas id="baseconvert_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="baseconvert_pre" class="active_out">

</pre>


</div>

<p>A solution to this problem is to extend the digit set to include some
alphabet characters. For example, hexadecimal uses the ten decimal
digits along with the first six alphabet characters for the 16 digits.
To implement this, a digit string is created (line 3 in
<a class="reference internal" href="#lst-baseconverter"><em>Listing 6</em></a>) that stores the digits in their corresponding
positions. 0 is at position 0, 1 is at position 1, A is at position 10,
B is at position 11, and so on. When a remainder is removed from the
stack, it can be used to index into the digit string and the correct
resulting digit can be appended to the answer. For example, if the
remainder 13 is removed from the stack, the digit D is appended to the
resulting string.</p>
<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>

            <div id="baseconvert1">
            <form name="baseconvert1_form" method="get" action="" onsubmit="return false;">
            <p>What is value of 25 expressed as an octal number (base 8) <input type="text" name="blank" /></p>
            
            <input type="button" name="do answer" 
            value="Check Me" onclick="checkFIB('baseconvert1','\\b31\\b',[], false)"/> 
            </form>
            <div id="baseconvert1_feedback">
            </div>
            </div>
            
            <div id="baseconvert2">
            <form name="baseconvert2_form" method="get" action="" onsubmit="return false;">
            <p>What is value of 256 expressed as a hexidecimal number (base 16) <input type="text" name="blank" /></p>
            
            <input type="button" name="do answer" 
            value="Check Me" onclick="checkFIB('baseconvert2','\\b100\\b',[], false)"/> 
            </form>
            <div id="baseconvert2_feedback">
            </div>
            </div>
            <div class="last">
            <div id="baseconvert3">
            <form name="baseconvert3_form" method="get" action="" onsubmit="return false;">
            <p>What is value of 26 expressed in base 26 <input type="text" name="blank" /></p>
            
            <input type="button" name="do answer" 
            value="Check Me" onclick="checkFIB('baseconvert3','\\b10\\b',[['.*', 'You may need to modify the baseConverter function, or simply find a pattern in the conversion of bases.']], false)"/> 
            </form>
            <div id="baseconvert3_feedback">
            </div>
            </div>
            </div></div>
<a id="video_Stack2_thumb" > <img src="../_static/activecodethumb.png" /></a>
<div id="video_Stack2" class="video_popup" >
<video controls  >
    <source src="http://media.interactivepython.org/pythondsVideos/Stack2.mov" type="video/mp4"></source>
    <source src="http://media.interactivepython.org/pythondsVideos/Stack2.webm" type="video/webm"></source>
    No supported video types
</video>
</div>
<script>
   jQuery(function($) {
      $('#video_Stack2_thumb').click(function(e) {
         $('#video_Stack2').show();
         $('#video_Stack2_thumb').hide();
         logBookEvent({'event':'video','act':'play','div_id': 'video_Stack2'});
         // Log the run event
      });
   });
</script>
</div>
<div class="section" id="infix-prefix-and-postfix-expressions">
<h2>Infix, Prefix and Postfix Expressions<a class="headerlink" href="#infix-prefix-and-postfix-expressions" title="Permalink to this headline">¶</a></h2>
<p>When you write an arithmetic expression such as B * C, the form of the
expression provides you with information so that you can interpret it
correctly. In this case we know that the variable B is being multiplied
by the variable C since the multiplication operator * appears between
them in the expression. This type of notation is referred to as
<strong>infix</strong> since the operator is <em>in between</em> the two operands that it is
working on.</p>
<p>Consider another infix example, A + B * C. The operators + and * still
appear between the operands, but there is a problem. Which operands do
they work on? Does the + work on A and B or does the * take B and C?
The expression seems ambiguous.</p>
<p>In fact, you have been reading and writing these types of expressions
for a long time and they do not cause you any problem. The reason for
this is that you know something about the operators + and *. Each
operator has a <strong>precedence</strong> level. Operators of higher precedence are
used before operators of lower precedence. The only thing that can
change that order is the presence of parentheses. The precedence order
for arithmetic operators places multiplication and division above
addition and subtraction. If two operators of equal precedence appear,
then a left-to-right ordering or associativity is used.</p>
<p>Let’s interpret the troublesome expression A + B * C using operator
precedence. B and C are multiplied first, and A is then added to that
result. (A + B) * C would force the addition of A and B to be done
first before the multiplication. In expression A + B + C, by precedence
(via associativity), the leftmost + would be done first.</p>
<p>Although all this may be obvious to you, remember that computers need to
know exactly what operators to perform and in what order. One way to
write an expression that guarantees there will be no confusion with
respect to the order of operations is to create what is called a <strong>fully
parenthesized</strong> expression. This type of expression uses one pair of
parentheses for each operator. The parentheses dictate the order of
operations; there is no ambiguity. There is also no need to remember any
precedence rules.</p>
<p>The expression A + B * C + D can be rewritten as ((A + (B * C)) + D)
to show that the multiplication happens first, followed by the leftmost
addition. A + B + C + D can be written as (((A + B) + C) + D) since the
addition operations associate from left to right.</p>
<p>There are two other very important expression formats that may not seem
obvious to you at first. Consider the infix expression A + B. What would
happen if we moved the operator before the two operands? The resulting
expression would be + A B. Likewise, we could move the operator to the
end. We would get A B +. These look a bit strange.</p>
<p>These changes to the position of the operator with respect to the
operands create two new expression formats, <strong>prefix</strong> and <strong>postfix</strong>.
Prefix expression notation requires that all operators precede the two
operands that they work on. Postfix, on the other hand, requires that
its operators come after the corresponding operands. A few more examples
should help to make this a bit clearer (see <a class="reference internal" href="#tbl-example1"><em>Table 2</em></a>).</p>
<p>A + B * C would be written as + A * B C in prefix. The multiplication
operator comes immediately before the operands B and C, denoting that *
has precedence over +. The addition operator then appears before the A
and the result of the multiplication.</p>
<p>In postfix, the expression would be A B C * +. Again, the order of
operations is preserved since the * appears immediately after the B and
the C, denoting that * has precedence, with + coming after. Although
the operators moved and now appear either before or after their
respective operands, the order of the operands stayed exactly the same
relative to one another.</p>
<table border="1" class="docutils" id="tbl-example1">
<colgroup>
<col width="37%" />
<col width="31%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Infix Expression</strong></th>
<th class="head"><strong>Prefix Expression</strong></th>
<th class="head"><strong>Postfix Expression</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>A + B</td>
<td>+ A B</td>
<td>A B +</td>
</tr>
<tr class="row-odd"><td>A + B * C</td>
<td>+ A * B C</td>
<td>A B C * +</td>
</tr>
</tbody>
</table>
<blockquote>
<div>Examples of Infix, Prefix, and Postfix</div></blockquote>
<p>Now consider the infix expression (A + B) * C. Recall that in this
case, infix requires the parentheses to force the performance of the
addition before the multiplication. However, when A + B was written in
prefix, the addition operator was simply moved before the operands, + A
B. The result of this operation becomes the first operand for the
multiplication. The multiplication operator is moved in front of the
entire expression, giving us * + A B C. Likewise, in postfix A B +
forces the addition to happen first. The multiplication can be done to
that result and the remaining operand C. The proper postfix expression
is then A B + C *.</p>
<p>Consider these three expressions again (see <a class="reference internal" href="#tbl-parexample"><em>Table 3</em></a>).
Something very important has happened. Where did the parentheses go? Why
don’t we need them in prefix and postfix? The answer is that the
operators are no longer ambiguous with respect to the operands that they
work on. Only infix notation requires the additional symbols. The order
of operations within prefix and postfix expressions is completely
determined by the position of the operator and nothing else. In many
ways, this makes infix the least desirable notation to use.</p>
<table border="1" class="docutils" id="tbl-parexample">
<colgroup>
<col width="37%" />
<col width="31%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Infix Expression</strong></th>
<th class="head"><strong>Prefix Expression</strong></th>
<th class="head"><strong>Postfix Expression</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>(A + B) * C</td>
<td>* + A B C</td>
<td>A B + C *</td>
</tr>
</tbody>
</table>
<blockquote>
<div>An Expression with Parentheses</div></blockquote>
<p><a class="reference internal" href="#tbl-example3"><em>Table 4</em></a> shows some additional examples of infix expressions and
the equivalent prefix and postfix expressions. Be sure that you
understand how they are equivalent in terms of the order of the
operations being performed.</p>
<table border="1" class="docutils" id="tbl-example3">
<colgroup>
<col width="37%" />
<col width="31%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Infix Expression</strong></th>
<th class="head"><strong>Prefix Expression</strong></th>
<th class="head"><strong>Postfix Expression</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>A + B * C + D</td>
<td>+ + A * B C D</td>
<td>A B C * + D +</td>
</tr>
<tr class="row-odd"><td>(A + B) * (C + D)</td>
<td>* + A B + C D</td>
<td>A B + C D + *</td>
</tr>
<tr class="row-even"><td>A * B + C * D</td>
<td>+ * A B * C D</td>
<td>A B * C D * +</td>
</tr>
<tr class="row-odd"><td>A + B + C + D</td>
<td>+ + + A B C D</td>
<td>A B + C + D +</td>
</tr>
</tbody>
</table>
<blockquote>
<div>Additional Examples of Infix, Prefix, and Postfix</div></blockquote>
<div class="section" id="conversion-of-infix-expressions-to-prefix-and-postfix">
<h3>Conversion of Infix Expressions to Prefix and Postfix<a class="headerlink" href="#conversion-of-infix-expressions-to-prefix-and-postfix" title="Permalink to this headline">¶</a></h3>
<p>So far, we have used ad hoc methods to convert between infix expressions
and the equivalent prefix and postfix expression notations. As you might
expect, there are algorithmic ways to perform the conversion that allow
any expression of any complexity to be correctly transformed.</p>
<p>The first technique that we will consider uses the notion of a fully
parenthesized expression that was discussed earlier. Recall that A + B
* C can be written as (A + (B * C)) to show explicitly that the
multiplication has precedence over the addition. On closer observation,
however, you can see that each parenthesis pair also denotes the
beginning and the end of an operand pair with the corresponding operator
in the middle.</p>
<p>Look at the right parenthesis in the subexpression (B * C) above. If we
were to move the multiplication symbol to that position and remove the
matching left parenthesis, giving us B C *, we would in effect have
converted the subexpression to postfix notation. If the addition
operator were also moved to its corresponding right parenthesis position
and the matching left parenthesis were removed, the complete postfix
expression would result (see <a class="reference internal" href="#fig-moveright"><em>Figure 6</em></a>).</p>
<div class="figure align-center" id="fig-moveright">
<img alt="../_images/moveright.png" src="../_images/moveright.png" />
<p class="caption">Moving Operators to the Right for Postfix Notation</p>
</div>
<p>If we do the same thing but instead of moving the symbol to the position
of the right parenthesis, we move it to the left, we get prefix notation
(see <a class="reference internal" href="#fig-moveleft"><em>Figure 7</em></a>). The position of the parenthesis pair is
actually a clue to the final position of the enclosed operator.</p>
<div class="figure align-center" id="fig-moveleft">
<img alt="../_images/moveleft.png" src="../_images/moveleft.png" />
<p class="caption">Moving Operators to the Left for Prefix Notation</p>
</div>
<p>So in order to convert an expression, no matter how complex, to either
prefix or postfix notation, fully parenthesize the expression using the
order of operations. Then move the enclosed operator to the position of
either the left or the right parenthesis depending on whether you want
prefix or postfix notation.</p>
<p>Here is a more complex expression: (A + B) * C - (D - E) * (F + G).
<a class="reference internal" href="#fig-complexmove"><em>Figure 8</em></a> shows the conversion to postfix and prefix
notations.</p>
<div class="figure align-center" id="fig-complexmove">
<img alt="../_images/complexmove.png" src="../_images/complexmove.png" />
<p class="caption">Converting a Complex Expression to Prefix and Postfix Notations</p>
</div>
</div>
<div class="section" id="general-infix-to-postfix-conversion">
<h3>General Infix-to-Postfix Conversion<a class="headerlink" href="#general-infix-to-postfix-conversion" title="Permalink to this headline">¶</a></h3>
<p>We need to develop an algorithm to convert any infix expression to a
postfix expression. To do this we will look closer at the conversion
process.</p>
<p>Consider once again the expression A + B * C. As shown above,
A B C * + is the postfix equivalent. We have already noted that the
operands A, B, and C stay in their relative positions. It is only the
operators that change position. Let’s look again at the operators in the
infix expression. The first operator that appears from left to right is
+. However, in the postfix expression, + is at the end since the next
operator, *, has precedence over addition. The order of the operators
in the original expression is reversed in the resulting postfix
expression.</p>
<p>As we process the expression, the operators have to be saved somewhere
since their corresponding right operands are not seen yet. Also, the
order of these saved operators may need to be reversed due to their
precedence. This is the case with the addition and the multiplication in
this example. Since the addition operator comes before the
multiplication operator and has lower precedence, it needs to appear
after the multiplication operator is used. Because of this reversal of
order, it makes sense to consider using a stack to keep the operators
until they are needed.</p>
<p>What about (A + B) * C? Recall that A B + C * is the postfix
equivalent. Again, processing this infix expression from left to right,
we see + first. In this case, when we see *, + has already been placed
in the result expression because it has precedence over * by virtue of
the parentheses. We can now start to see how the conversion algorithm
will work. When we see a left parenthesis, we will save it to denote
that another operator of high precedence will be coming. That operator
will need to wait until the corresponding right parenthesis appears to
denote its position (recall the fully parenthesized technique). When
that right parenthesis does appear, the operator can be popped from the
stack.</p>
<p>As we scan the infix expression from left to right, we will use a stack
to keep the operators. This will provide the reversal that we noted in
the first example. The top of the stack will always be the most recently
saved operator. Whenever we read a new operator, we will need to
consider how that operator compares in precedence with the operators, if
any, already on the stack.</p>
<p>Assume the infix expression is a string of tokens delimited by spaces.
The operator tokens are *, /, +, and -, along with the left and right
parentheses, ( and ). The operand tokens are the single-character
identifiers A, B, C, and so on. The following steps will produce a
string of tokens in postfix order.</p>
<ol class="arabic simple">
<li>Create an empty stack called <tt class="docutils literal"><span class="pre">opstack</span></tt> for keeping operators.
Create an empty list for output.</li>
<li>Convert the input infix string to a list by using the string method
<tt class="docutils literal"><span class="pre">split</span></tt>.</li>
<li>Scan the token list from left to right.<ul>
<li>If the token is an operand, append it to the end of the output
list.</li>
<li>If the token is a left parenthesis, push it on the <tt class="docutils literal"><span class="pre">opstack</span></tt>.</li>
<li>If the token is a right parenthesis, pop the <tt class="docutils literal"><span class="pre">opstack</span></tt> until the
corresponding left parenthesis is removed. Append each operator to
the end of the output list.</li>
<li>If the token is an operator, *, /, +, or -, push it on the
<tt class="docutils literal"><span class="pre">opstack</span></tt>. However, first remove any operators already on the
<tt class="docutils literal"><span class="pre">opstack</span></tt> that have higher or equal precedence and append them
to the output list.</li>
</ul>
</li>
<li>When the input expression has been completely processed, check the
<tt class="docutils literal"><span class="pre">opstack</span></tt>. Any operators still on the stack can be removed and
appended to the end of the output list.</li>
</ol>
<p><a class="reference internal" href="#fig-intopost"><em>Figure 9</em></a> shows the conversion algorithm working on the
expression A * B + C * D. Note that the first * operator is removed
upon seeing the + operator. Also, + stays on the stack when the second
* occurs, since multiplication has precedence over addition. At the end
of the infix expression the stack is popped twice, removing both
operators and placing + as the last operator in the postfix expression.</p>
<div class="figure align-center" id="fig-intopost">
<img alt="../_images/intopost.png" src="../_images/intopost.png" />
<p class="caption">Converting A * B + C * D to Postfix Notation</p>
</div>
<p>In order to code the algorithm in Python, we will use a dictionary
called <tt class="docutils literal"><span class="pre">prec</span></tt> to hold the precedence values for the operators. This
dictionary will map each operator to an integer that can be compared
against the precedence levels of other operators (we have arbitrarily
used the integers 3, 2, and 1). The left parenthesis will receive the
lowest value possible. This way any operator that is compared against it
will have higher precedence and will be placed on top of it. Note that
we have also imported the string module which contains a number of
predefined variables. In this case we are using a string containing all
possible upper-case alphabet characters ({string.ascii_uppercase}) to
represent all possible operands. The complete conversion function is
shown in <a class="reference internal" href="#lst-intopost"><em>Listing 7</em></a>.</p>

<div id="intopost" >

<br/>
<div id="intopost_code_div" style="display: block">
<textarea cols="50" rows="12" id="intopost_code" class="active_code">
from pythonds.basic.stack import Stack

def infixToPostfix(infixexpr):
    prec = {}
    prec["*"] = 3
    prec["/"] = 3
    prec["+"] = 2
    prec["-"] = 2
    prec["("] = 1
    opStack = Stack()
    postfixList = []
    tokenList = infixexpr.split()

    for token in tokenList:
        if token in "ABCDEFGHIJKLMNOPQRSTUVWXYZ" or token in "0123456789":
            postfixList.append(token)
        elif token == '(':
            opStack.push(token)
        elif token == ')':
            topToken = opStack.pop()
            while topToken != '(':
                postfixList.append(topToken)
                topToken = opStack.pop()
        else:
            while (not opStack.isEmpty()) and \
               (prec[opStack.peek()] >= prec[token]):
                  postfixList.append(opStack.pop())
            opStack.push(token)

    while not opStack.isEmpty():
        postfixList.append(opStack.pop())
    return " ".join(postfixList)

print(infixToPostfix("A * B + C * D"))
print(infixToPostfix("( A + B ) * C - ( D - E ) * ( F + G )"))
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text">Converting Infix Expressions to Postfix Expressions (intopost)</span> </p>

<button id="intopost_runb" onclick="runit('intopost',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('intopost');">Save</button>
<button class="ac_opt" onclick="requestCode('intopost');">Load</button>

<div style="text-align: center">
<canvas id="intopost_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="intopost_pre" class="active_out">

</pre>


</div>

<hr class="docutils" />
<p>A few examples of execution in the Python shell are shown below.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">infixtopostfix</span><span class="p">(</span><span class="s">&quot;( A + B ) * ( C + D )&quot;</span><span class="p">)</span>
<span class="go">&#39;A B + C D + *&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infixtopostfix</span><span class="p">(</span><span class="s">&quot;( A + B ) * C&quot;</span><span class="p">)</span>
<span class="go">&#39;A B + C *&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infixtopostfix</span><span class="p">(</span><span class="s">&quot;A + B * C&quot;</span><span class="p">)</span>
<span class="go">&#39;A B C * +&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="postfix-evaluation">
<h3>Postfix Evaluation<a class="headerlink" href="#postfix-evaluation" title="Permalink to this headline">¶</a></h3>
<p>As a final stack example, we will consider the evaluation of an
expression that is already in postfix notation. In this case, a stack is
again the data structure of choice. However, as you scan the postfix
expression, it is the operands that must wait, not the operators as in
the conversion algorithm above. Another way to think about the solution
is that whenever an operator is seen on the input, the two most recent
operands will be used in the evaluation.</p>
<p>To see this in more detail, consider the postfix expression
<tt class="docutils literal"><span class="pre">4</span> <span class="pre">5</span> <span class="pre">6</span> <span class="pre">*</span> <span class="pre">+</span></tt>. As you scan the expression from left to right, you first
encounter the operands 4 and 5. At this point, you are still unsure what
to do with them until you see the next symbol. Placing each on the stack
ensures that they are available if an operator comes next.</p>
<p>In this case, the next symbol is another operand. So, as before, push it
and check the next symbol. Now we see an operator, *. This means that
the two most recent operands need to be used in a multiplication
operation. By popping the stack twice, we can get the proper operands
and then perform the multiplication (in this case getting the result
30).</p>
<p>We can now handle this result by placing it back on the stack so that it
can be used as an operand for the later operators in the expression.
When the final operator is processed, there will be only one value left
on the stack. Pop and return it as the result of the expression.
<a class="reference internal" href="#fig-evalpost1"><em>Figure 10</em></a> shows the stack contents as this entire example
expression is being processed.</p>
<div class="figure align-center" id="fig-evalpost1">
<img alt="../_images/evalpostfix1.png" src="../_images/evalpostfix1.png" />
<p class="caption">Stack Contents During Evaluation</p>
</div>
<p><a class="reference internal" href="#fig-evalpost2"><em>Figure 11</em></a> shows a slightly more complex example, 7 8 + 3 2
+ /. There are two things to note in this example. First, the stack size
grows, shrinks, and then grows again as the subexpressions are
evaluated. Second, the division operation needs to be handled carefully.
Recall that the operands in the postfix expression are in their original
order since postfix changes only the placement of operators. When the
operands for the division are popped from the stack, they are reversed.
Since division is <em>not</em> a commutative operator, in other words
<span class="math">\(15/5\)</span> is not the same as <span class="math">\(5/15\)</span>, we must be sure that
the order of the operands is not switched.</p>
<div class="figure align-center" id="fig-evalpost2">
<img alt="../_images/evalpostfix2.png" src="../_images/evalpostfix2.png" />
<p class="caption">A More Complex Example of Evaluation</p>
</div>
<p>Assume the postfix expression is a string of tokens delimited by spaces.
The operators are *, /, +, and - and the operands are assumed to be
single-digit integer values. The output will be an integer result.</p>
<ol class="arabic simple">
<li>Create an empty stack called <tt class="docutils literal"><span class="pre">operandStack</span></tt>.</li>
<li>Convert the string to a list by using the string method <tt class="docutils literal"><span class="pre">split</span></tt>.</li>
<li>Scan the token list from left to right.<ul>
<li>If the token is an operand, convert it from a string to an integer
and push the value onto the <tt class="docutils literal"><span class="pre">operandStack</span></tt>.</li>
<li>If the token is an operator, *, /, +, or -, it will need two
operands. Pop the <tt class="docutils literal"><span class="pre">operandStack</span></tt> twice. The first pop is the
second operand and the second pop is the first operand. Perform
the arithmetic operation. Push the result back on the
<tt class="docutils literal"><span class="pre">operandStack</span></tt>.</li>
</ul>
</li>
<li>When the input expression has been completely processed, the result
is on the stack. Pop the <tt class="docutils literal"><span class="pre">operandStack</span></tt> and return the value.</li>
</ol>
<p>The complete function for the evaluation of postfix expressions is shown
in <a class="reference internal" href="#lst-postfixeval"><em>Listing 8</em></a>. To assist with the arithmetic, a helper
function <tt class="docutils literal"><span class="pre">doMath</span></tt> is defined that will take two operands and an
operator and then perform the proper arithmetic operation.</p>

<div id="postfixeval" >

<br/>
<div id="postfixeval_code_div" style="display: block">
<textarea cols="50" rows="12" id="postfixeval_code" class="active_code">
from pythonds.basic.stack import Stack

def postfixEval(postfixExpr):
    operandStack = Stack()
    tokenList = postfixExpr.split()

    for token in tokenList:
        if token in "0123456789":
            operandStack.push(int(token))
        else:
            operand2 = operandStack.pop()
            operand1 = operandStack.pop()
            result = doMath(token,operand1,operand2)
            operandStack.push(result)
    return operandStack.pop()

def doMath(op, op1, op2):
    if op == "*":
        return op1 * op2
    elif op == "/":
        return op1 / op2
    elif op == "+":
        return op1 + op2
    else:
        return op1 - op2
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text">Postfix Evaluation (postfixeval)</span> </p>

<button id="postfixeval_runb" onclick="runit('postfixeval',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('postfixeval');">Save</button>
<button class="ac_opt" onclick="requestCode('postfixeval');">Load</button>

<div style="text-align: center">
<canvas id="postfixeval_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="postfixeval_pre" class="active_out">

</pre>


</div>

<p>It is important to note that in both the postfix conversion and the
postfix evaluation programs we assumed that there were no errors in the
input expression. Using these programs as a starting point, you can
easily see how error detection and reporting can be included. We leave
this as an exercise at the end of the chapter.</p>
<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>

            <div id="postfix1">
            <form name="postfix1_form" method="get" action="" onsubmit="return false;">
            <p>Without using the activecode infixToPostfix function, convert the following expression to postfix <br> 10 + 3 * 5 / (16 - 4) <input type="text" name="blank" /></p>
            
            <input type="button" name="do answer" 
            value="Check Me" onclick="checkFIB('postfix1','\\b10\\s+3\\s+5\\s*\\*\\s*16\\s+4\\s*-\\s*/\\s*\\+',[['10.*3.*5.*16.*4', 'The numbers appear to be in the correct order check your operators'], ['.*', 'Remember the numbers will be in the same order as the original equation']], true)"/> 
            </form>
            <div id="postfix1_feedback">
            </div>
            </div>
            
            <div id="postfix2">
            <form name="postfix2_form" method="get" action="" onsubmit="return false;">
            <p>17 10 + 3 * 9 / == <input type="text" name="blank" /></p>
            
            <input type="button" name="do answer" 
            value="Check Me" onclick="checkFIB('postfix2','\\b9\\b',[['.*', 'Remember to push each intermediate result back on the stack']], false)"/> 
            </form>
            <div id="postfix2_feedback">
            </div>
            </div>
            <div class="last">
            <div id="postfix3">
            <form name="postfix3_form" method="get" action="" onsubmit="return false;">
            <p>Modify the infixToPostfix function so that it can convert the following expression:  5 * 3 ^ (4 - 2)   Paste the answer here: <input type="text" name="blank" /></p>
            
            <input type="button" name="do answer" 
            value="Check Me" onclick="checkFIB('postfix3','5\\s+3\\s+4\\s+2\\s*-\\s*\\^\\s*\\*',[['.*', 'Hint: You only need to add one line to the function!!']], false)"/> 
            </form>
            <div id="postfix3_feedback">
            </div>
            </div>
            </div></div>
<a id="video_Stack3_thumb" > <img src="../_static/activecodethumb.png" /></a>
<div id="video_Stack3" class="video_popup" >
<video controls  >
    <source src="http://media.interactivepython.org/pythondsVideos/Stack3.mov" type="video/mp4"></source>
    <source src="http://media.interactivepython.org/pythondsVideos/Stack3.webm" type="video/webm"></source>
    No supported video types
</video>
</div>
<script>
   jQuery(function($) {
      $('#video_Stack3_thumb').click(function(e) {
         $('#video_Stack3').show();
         $('#video_Stack3_thumb').hide();
         logBookEvent({'event':'video','act':'play','div_id': 'video_Stack3'});
         // Log the run event
      });
   });
</script>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Practically Discrete</a> &raquo;</li>
<li class="right"><span class="loginout"><a href="/runestone/default/user/logout">logout</a></span>| </li>

      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2013, Mark Betnel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>

<script type="text/javascript" charset="utf-8">
    $(document).ready(addUserToFooter)
    $(document).ready(createEditors);
    $(document).ready(getNumUsers);
    $(document).ready(getOnlineUsers);
</script>




  </body>
</html>