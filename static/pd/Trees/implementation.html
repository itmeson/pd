
<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Implementation &mdash; Practically Discrete</title>
    
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codelens/v3/css/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codelens/v3/css/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codelens/v3/css/ui-lightness/jquery-ui-1.8.24.custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/theme/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/js-parsons/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/js-parsons/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/jquery.simplemodal.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/jquery-ui-1.8.24.custom.min.js"></script>
    <script type="text/javascript" src="../_static/codelens/v3/js/pytutor.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt/dist/skulpt.js"></script>
    <script type="text/javascript" src="../_static/skulpt/dist/builtin.js"></script>
    <script type="text/javascript" src="../_static/assess.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/underscore-min.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/lib/lis.js"></script>
    <script type="text/javascript" src="../_static/js-parsons/parsons.js"></script>
    <script type="text/javascript" src="../_static/parsons-noconflict.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <link rel="top" title="Practically Discrete" href="../index.html" />
<script type="text/javascript">
eBookConfig = {}
eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000',
eBookConfig.app = eBookConfig.host+'/runestone',
eBookConfig.ajaxURL = eBookConfig.app+'/ajax/',
eBookConfig.course = 'pd',
eBookConfig.logLevel = 10,
eBookConfig.loginRequired = true
eBookConfig.isLoggedIn = false;
</script>
<script type="text/javascript" charset="utf-8" src="http://127.0.0.1:8000/runestone/static/js/jquery.idle-timer.js">
</script>
<script type="text/javascript" src="http://127.0.0.1:8000/runestone/static/js/processing-1.4.1.min.js"></script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Practically Discrete</a> &raquo;</li>
<li class="right"><span class="loginout"><a href="/runestone/default/user/logout">logout</a></span>| </li>

      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <p class="logo"><a href="../index.html">
    <img class="logo" src="../_static/logo.jpg" alt="Logo" title="Click for Main Table of Contents"/>
  </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Implementation</a><ul>
<li><a class="reference internal" href="#list-of-lists-representation">List of Lists Representation</a></li>
<li><a class="reference internal" href="#nodes-and-references">Nodes and References</a></li>
</ul>
</li>
</ul>
<div id="runestonebox">
  <h3>Runestone Links</h3>
  <ul>
    <li> <span id="numuserspan"></span> Readers Online Now </li>
    <li>
      <a href="/runestone/static/pd/navhelp.html">Navigation Help</a>
    </li>
    <li>
      <a href="https://github.com/bnmnetp/runestone/issues/new">Report a Problem</a>
    </li>
    <li>
      <a href="http://runestoneinteractive.org">About Runestone</a>
    </li>
    <li>
      <a href="/runestone/admin/index">Instructors Page</a>
    </li>
  </ul>
<div class="fb-like" data-href="http://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="220" data-show-faces="false"></div>
<p><a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="false">Follow @iRunestone</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></p>
</div>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="implementation">
<h1>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h1>
<p>Keeping in mind the definitions from the previous section, we can use
the following functions to create and manipulate a binary tree:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">BinaryTree()</span></tt> creates a new instance of a binary tree.</li>
<li><tt class="docutils literal"><span class="pre">getLeftChild()</span></tt> returns the binary tree corresponding to the left
child of the current node.</li>
<li><tt class="docutils literal"><span class="pre">getRightChild()</span></tt> returns the binary tree corresponding to the
right child of the current node.</li>
<li><tt class="docutils literal"><span class="pre">setRootVal(val)</span></tt> stores the object in parameter <tt class="docutils literal"><span class="pre">val</span></tt> in the
current node.</li>
<li><tt class="docutils literal"><span class="pre">getRootVal()</span></tt> returns the object stored in the current node.</li>
<li><tt class="docutils literal"><span class="pre">insertLeft(val)</span></tt> creates a new binary tree and installs it as the
left child of the current node.</li>
<li><tt class="docutils literal"><span class="pre">insertRight(val)</span></tt> creates a new binary tree and installs it as the
right child of the current node.</li>
</ul>
<p>The key decision in implementing a tree is choosing a good internal
storage technique. Python allows us two very interesting possibilities,
so we will examine both before choosing one. The first technique we will
call “list of lists,” the second technique we will call “nodes and
references.”</p>
<div class="section" id="list-of-lists-representation">
<h2>List of Lists Representation<a class="headerlink" href="#list-of-lists-representation" title="Permalink to this headline">¶</a></h2>
<p>In a tree represented by a list of lists, we will begin
with Python’s list data structure and write the functions defined above.
Although writing the interface as a set of operations on a list is a bit
different from the other abstract data types we have implemented, it is
interesting to do so because it provides us with a simple recursive data
structure that we can look at and examine directly. In a list of lists
tree, we will store the value of the root node as the first element of
the list. The second element of the list will itself be a list that
represents the left subtree. The third element of the list will be
another list that represents the right subtree. To illustrate this
storage technique, let’s look at an example. Figure&nbsp;{fig:smalltree}
shows a simple tree and the corresponding list implementation.</p>
<div class="figure align-center">
<img alt="../_images/smalltree.png" src="../_images/smalltree.png" />
<p class="caption">A small tree</p>
</div>
<div class="highlight-python"><pre> myTree = ['a',   #root
       ['b',  #left subtree
        ['d' [], []],
        ['e' [], []] ],
       ['c',  #right subtree
        ['f' [], []],
        [] ]
      ]

The list representation of the tree}</pre>
</div>
<p>Notice that we can access subtrees of the list using standard list
slices. The root of the tree is <tt class="docutils literal"><span class="pre">myTree[0]</span></tt>, the left subtree of the
root is <tt class="docutils literal"><span class="pre">myTree[1]</span></tt>, and the right subtree is <tt class="docutils literal"><span class="pre">myTree[2]</span></tt>. The
following Python session illustrates creating a simple tree using a
list. Once the tree is constructed, we can access the root and the left
and right subtrees. One very nice property of this list of lists
approach is that the structure of a list representing a subtree adheres
to the structure defined for a tree; the structure itself is recursive!
A subtree that has a root value and two empty lists is a leaf node.
Another nice feature of the list of lists approach is that it
generalizes to a tree that has many subtrees. In the case where the tree
is more than a binary tree, another subtree is just another list.</p>

<div id="tree_list1" >

<br/>
<div id="tree_list1_code_div" style="display: block">
<textarea cols="50" rows="12" id="tree_list1_code" class="active_code">
myTree = ['a', ['b', ['d',[],[]], ['e',[],[]] ], ['c', ['f',[],[]], []] ]
print(myTree)
print 'left subtree = ', myTree[1]
print 'root = ', myTree[0]
print 'right subtree = ', myTree[2]
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text"> (tree_list1)</span> </p>

<button id="tree_list1_runb" onclick="runit('tree_list1',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('tree_list1');">Save</button>
<button class="ac_opt" onclick="requestCode('tree_list1');">Load</button>

<div style="text-align: center">
<canvas id="tree_list1_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="tree_list1_pre" class="active_out">

</pre>


</div>

<p>Let’s formalize this definition of the tree data structure by providing
some functions that make it easy for us to use lists as trees. Note that
we are not going to define a binary tree class. The functions we will
write will just help us manipulate a standard list as though we are
working with a tree.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">BinaryTree</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">r</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[]]</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">BinaryTree</span></tt> function simply constructs a list with a root node
and two empty sublists for the children. To add a left subtree to the
root of a tree, we need to insert a new list into the second position of
the root list. We must be careful. If the list already has something in
the second position, we need to keep track of it and push it down the
tree as the left child of the list we are adding. Listing&nbsp;{lst:linsleft}
shows the Python code for inserting a left child.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">insertLeft</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="n">newBranch</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">root</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,[</span><span class="n">newBranch</span><span class="p">,</span><span class="n">t</span><span class="p">,[]])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">root</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,[</span><span class="n">newBranch</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[]])</span>
    <span class="k">return</span> <span class="n">root</span>
</pre></div>
</div>
<p>Notice that to insert a left child, we first obtain the (possibly empty)
list that corresponds to the current left child. We then add the new
left child, installing the old left child as the left child of the new
one. This allows us to splice a new node into the tree at any position.
The code for <tt class="docutils literal"><span class="pre">insertRight</span></tt> is similar to <tt class="docutils literal"><span class="pre">insertLeft</span></tt> and is shown
in Listing&nbsp;{lst:linsright}.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">insertRight</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="n">newBranch</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">root</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="n">newBranch</span><span class="p">,[],</span><span class="n">t</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">root</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="n">newBranch</span><span class="p">,[],[]])</span>
    <span class="k">return</span> <span class="n">root</span>
</pre></div>
</div>
<p>To round out this set of tree-making functions, let’s write a couple of
access functions for getting and setting the root value, as well as
getting the left or right subtrees.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">getRootVal</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">root</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">setRootVal</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="n">newVal</span><span class="p">):</span>
    <span class="n">root</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">newVal</span>

<span class="k">def</span> <span class="nf">getLeftChild</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">root</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">getRightChild</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">root</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>The Python session in Figure&nbsp;{fig:makeTreess} exercises the tree
functions we have just written. You should type in this code and try it
out for yourself. One of the exercises asks you to draw the tree
structure resulting from this set of calls.</p>

<div id="bin_tree" >

<br/>
<div id="bin_tree_code_div" style="display: block">
<textarea cols="50" rows="12" id="bin_tree_code" class="active_code">
def BinaryTree(r):
    return [r, [], []]

def insertLeft(root,newBranch):
    t = root.pop(1)
    if len(t) > 1:
        root.insert(1,[newBranch,t,[]])
    else:
        root.insert(1,[newBranch, [], []])
    return root

def insertRight(root,newBranch):
    t = root.pop(2)
    if len(t) > 1:
        root.insert(2,[newBranch,[],t])
    else:
        root.insert(2,[newBranch,[],[]])
    return root

def getRootVal(root):
    return root[0]

def setRootVal(root,newVal):
    root[0] = newVal

def getLeftChild(root):
    return root[1]

def getRightChild(root):
    return root[2]

r = BinaryTree(3)
insertLeft(r,4)
insertLeft(r,5)
insertRight(r,6)
insertRight(r,7)
l = getLeftChild(r)
print l

setRootVal(l,9)
print r
insertLeft(l,11)
print r
print getRightChild(getRightChild(r))
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text">A Python Session to Illustrate Basic Tree Functions (bin_tree)</span> </p>

<button id="bin_tree_runb" onclick="runit('bin_tree',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('bin_tree');">Save</button>
<button class="ac_opt" onclick="requestCode('bin_tree');">Load</button>

<div style="text-align: center">
<canvas id="bin_tree_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="bin_tree_pre" class="active_out">

</pre>


</div>

<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>

            <div id="mctree_1">
            <p>: <pre>Given the following statments:

x = BinaryTree('a')
insertLeft(x,'b')
insertRight(x,'c')
insertRight(getRightChild(x),'d')
insertLeft(getRightChild(getRightChild(x)),'e')

Which of the answers is the correct representation of the tree?</pre></p>
            <form name="mctree_1_form" method="get" action="" onsubmit="return false;">
            
            <input type="radio" name="group1" value="a" id="mctree_1_opt_a" />
            <label for= "mctree_1_opt_a">  a) ['a', ['b', [], []], ['c', [], ['d', [], []]]]</label><br />
            
            <input type="radio" name="group1" value="b" id="mctree_1_opt_b" />
            <label for= "mctree_1_opt_b">  b) ['a', ['c', [], ['d', ['e', [], []], []]], ['b', [], []]]</label><br />
            
            <input type="radio" name="group1" value="c" id="mctree_1_opt_c" />
            <label for= "mctree_1_opt_c">  c) ['a', ['b', [], []], ['c', [], ['d', ['e', [], []], []]]]</label><br />
            
            <input type="radio" name="group1" value="d" id="mctree_1_opt_d" />
            <label for= "mctree_1_opt_d">  d) ['a', ['b', [], ['d', ['e', [], []], []]], ['c', [], []]]</label><br />
            
            <script>
            $(document).ready(function(){checkRadio('mctree_1');});
            </script>
            <input type="button" name="do answer" 
            value="Check Me" onclick="checkMCMFStorage('mctree_1','c',['Not quite, this tree is missing the 'e' node.', 'This is close, but if you carefully you will see that the left and right children of the root are swapped.', 'Very good', 'This is close, but the left and right child names have been swapped along with the underlying structures.'])"/> 
            </form>
            <div id="mctree_1_feedback">
            </div>
            </div>
            <p>Write a function <tt class="docutils literal"><span class="pre">buildTree</span></tt> that returns a tree using the list of lists functions that looks like this:</p>
<img alt="../_images/tree_ex.png" src="../_images/tree_ex.png" />
<div class="last">
<button id="butt_mctree_2" onclick="createActiveCode('mctree_2','from test import testEqual\n\ndef buildTree():\n    pass\n\nttree = buildTree()\ntestEqual(getRootVal(getRightChild(ttree)),%27c%27)\ntestEqual(getRootVal(getRightChild(getLeftChild(ttree))),%27d%27)\ntestEqual(getRootVal(getRightChild(getRightChild(ttree))),%27f%27)'); $('#butt_mctree_2').hide();">Open Editor</button>
<div id="mctree_2"></div>
<br />
</div></div>
</div>
<div class="section" id="nodes-and-references">
<h2>Nodes and References<a class="headerlink" href="#nodes-and-references" title="Permalink to this headline">¶</a></h2>
<p>Our second method to represent a tree uses nodes and references. In this
case we will define a class that has attributes for the root value, as
well as the left and right subtrees. Since this representation more
closely follows the object-oriented programming paradigm, we will
continue to use this representation for the remainder of the chapter.</p>
<p>Using nodes and references, we might think of the tree as being
structured like the one shown in Figure&nbsp;{fig:treerec}.</p>
<div class="figure align-center" id="fig-treerec">
<img alt="image" src="../_images/treerecs.png" />
<p class="caption">A Simple Tree Using a Nodes and References Approach</p>
</div>
<p>We will start out with a simple class definition for the nodes and
references approach as shown in Listing&nbsp;{lst:nar}. The important thing
to remember about this representation is that the attributes <tt class="docutils literal"><span class="pre">left</span></tt>
and <tt class="docutils literal"><span class="pre">right</span></tt> will become references to other instances of the
<tt class="docutils literal"><span class="pre">BinaryTree</span></tt> class. For example, when we insert a new left child into
the tree we create another instance of <tt class="docutils literal"><span class="pre">BinaryTree</span></tt> and modify
<tt class="docutils literal"><span class="pre">self.leftChild</span></tt> in the root to reference the new tree.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">BinaryTree</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">rootObj</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">rootObj</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leftChild</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rightChild</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>
</div>
<p>Notice that in Listing&nbsp;{lst:nar}, the constructor function expects to
get some kind of object to store in the root. Just like you can store
any object you like in a list, the root object of a tree can be a
reference to any object. For our early examples, we will store the name
of the node as the root value. Using nodes and references to represent
the tree in Figure&nbsp;{fig:treerec}, we would create six instances of the
BinaryTree class.</p>
<p>Next let’s look at the functions we need to build the tree beyond the
root node. To add a left child to the tree, we will create a new binary
tree object and set the <tt class="docutils literal"><span class="pre">left</span></tt> attribute of the root to refer to this
new object. The code for <tt class="docutils literal"><span class="pre">insertLeft</span></tt> is shown in
Listing&nbsp;{lst:inleft}.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">insertLeft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">newNode</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">leftChild</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leftChild</span> <span class="o">=</span> <span class="n">BinaryTree</span><span class="p">(</span><span class="n">newNode</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">BinaryTree</span><span class="p">(</span><span class="n">newNode</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">leftChild</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">leftChild</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leftChild</span> <span class="o">=</span> <span class="n">t</span>
</pre></div>
</div>
<p>We must consider two cases for insertion. The first case is
characterized by a node with no existing left child. When there is no
left child, simply add a node to the tree. The second case is
characterized by a node with an existing left child. In the second
case, we insert a node and push the existing child down one level in the
tree. The second case is handled by the <tt class="docutils literal"><span class="pre">else</span></tt> statement on line
{lst:inilinsrt} of Listing {lst:inleft}.</p>
<p>The code for <tt class="docutils literal"><span class="pre">insertRight</span></tt> must consider a symmetric set of cases.
There will either be no right child, or we must insert the node between
the root and an existing right child. The insertion code is shown in
Listing&nbsp;{lst:insrt}.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">insertRight</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">newNode</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rightChild</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rightChild</span> <span class="o">=</span> <span class="n">BinaryTree</span><span class="p">(</span><span class="n">newNode</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">BinaryTree</span><span class="p">(</span><span class="n">newNode</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">rightChild</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rightChild</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rightChild</span> <span class="o">=</span> <span class="n">t</span>
</pre></div>
</div>
<p>To round out the definition for a simple binary tree data structure, we
will write access functions for the left and right children, as well as
the root values.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">getRightChild</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rightChild</span>

<span class="k">def</span> <span class="nf">getLeftChild</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">leftChild</span>

<span class="k">def</span> <span class="nf">setRootVal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">obj</span>

<span class="k">def</span> <span class="nf">getRootVal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span>
</pre></div>
</div>
<p>Now that we have all the pieces to create and manipulate a binary tree,
let’s use them to check on the structure a bit more. Let’s make a simple
tree with node a as the root, and add nodes b and c as children. The
following Python session creates the tree and looks at the some of the
values stored in <tt class="docutils literal"><span class="pre">key</span></tt>, <tt class="docutils literal"><span class="pre">left</span></tt>, and <tt class="docutils literal"><span class="pre">right</span></tt>. Notice that both the
left and right children of the root are themselves distinct instances of
the <tt class="docutils literal"><span class="pre">BinaryTree</span></tt> class. As we said in our original recursive
definition for a tree, this allows us to treat any child of a binary
tree as a binary tree itself. {</p>

<div id="bintree" >

<br/>
<div id="bintree_code_div" style="display: block">
<textarea cols="50" rows="12" id="bintree_code" class="active_code">
from pythonds.trees.binaryTree import BinaryTree
r = BinaryTree('a')
r.getRootVal()
print(r.getLeftChild())
r.insertLeft('b')
print(r.getLeftChild())
print(r.getLeftChild().getRootVal())
r.insertRight('c')
print(r.getRightChild())
print(r.getRightChild().getRootVal())
r.getRightChild().setRootVal('hello')
print(r.getRightChild().getRootVal())
</textarea>
</div>
<p class="ac_caption"><span class="ac_caption_text"> (bintree)</span> </p>

<button id="bintree_runb" onclick="runit('bintree',this, undefined);">Run</button>

<div id="cont"></div>

<button class="ac_opt" onclick="saveEditor('bintree');">Save</button>
<button class="ac_opt" onclick="requestCode('bintree');">Load</button>

<div style="text-align: center">
<canvas id="bintree_canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>

<pre id="bintree_pre" class="active_out">

</pre>


</div>

<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>
<p>Write a function <tt class="docutils literal"><span class="pre">buildTree</span></tt> that returns a tree using the nodes and references implementation that looks like this:</p>
<img alt="../_images/tree_ex.png" src="../_images/tree_ex.png" />
<div class="last">
<button id="butt_mctree_3" onclick="createActiveCode('mctree_3','from test import testEqual\n\ndef buildTree():\n    pass\n\nttree = buildTree()\n\ntestEqual(ttree.getRightChild().getRootVal(),%27c%27)\ntestEqual(ttree.getLeftChild().getRightChild().getRootVal(),%27d%27)\ntestEqual(ttree.getRightChild().getLeftChild().getRootVal(),%27e%27)'); $('#butt_mctree_3').hide();">Open Editor</button>
<div id="mctree_3"></div>
<br />
</div></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Practically Discrete</a> &raquo;</li>
<li class="right"><span class="loginout"><a href="/runestone/default/user/logout">logout</a></span>| </li>

      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2013, Mark Betnel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>

<script type="text/javascript" charset="utf-8">
    $(document).ready(addUserToFooter)
    $(document).ready(createEditors);
    $(document).ready(getNumUsers);
    $(document).ready(getOnlineUsers);
</script>




  </body>
</html>